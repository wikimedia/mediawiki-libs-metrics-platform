{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "93ae5367_ed4987a7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 8700
      },
      "writtenOn": "2023-06-22T09:37:42Z",
      "side": 1,
      "message": "LGTM. The only nit I have is that maybe I\u0027d document the rationale behind wrapping PageData inside ClientData.",
      "revId": "2354c61b1080803ce832b445e59242fadac4251b",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0b97b826_2703504e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 9097
      },
      "writtenOn": "2023-06-23T19:49:23Z",
      "side": 1,
      "message": "ya - i gotta update alot of documentation -- basically in a nutshell, PageData is just a nested data object of the Client Data object which is a required parameter for instantiating the Metrics Client object\n\nSome of these nested data objects (namely PageData) aren\u0027t always available at the time of instantiation in the mobile apps context but need to be populated and passed in when the event is submitted.",
      "parentUuid": "93ae5367_ed4987a7",
      "revId": "2354c61b1080803ce832b445e59242fadac4251b",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b87694e_8b554299",
        "filename": "java/src/main/java/org/wikimedia/metrics_platform/ContextController.java",
        "patchSetId": 2
      },
      "lineNbr": 113,
      "author": {
        "id": 8700
      },
      "writtenOn": "2023-06-22T09:40:28Z",
      "side": 1,
      "message": "Are we guaranteed that this (and similar) getters will always retrun a non-null value?",
      "revId": "2354c61b1080803ce832b445e59242fadac4251b",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0e4f2b11_ce5988c1",
        "filename": "java/src/main/java/org/wikimedia/metrics_platform/ContextController.java",
        "patchSetId": 2
      },
      "lineNbr": 113,
      "author": {
        "id": 9097
      },
      "writtenOn": "2023-06-23T19:44:43Z",
      "side": 1,
      "message": "all data parameters are nullable by default -- there could be many nulls depending on the platform (i.e. mobile app will not always have page data if the user is not on a page fragment)",
      "parentUuid": "2b87694e_8b554299",
      "revId": "2354c61b1080803ce832b445e59242fadac4251b",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "132f1ee9_55409178",
        "filename": "java/src/main/java/org/wikimedia/metrics_platform/context/ClientData.java",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 2974
      },
      "writtenOn": "2023-06-27T08:00:42Z",
      "side": 1,
      "message": "This needs to be updated as it does not entirely reflects the current code. (Code never lies, it\u0027s just misleading)",
      "range": {
        "startLine": 17,
        "startChar": 3,
        "endLine": 18,
        "endChar": 98
      },
      "revId": "2354c61b1080803ce832b445e59242fadac4251b",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "137b3127_b2e5ec83",
        "filename": "java/src/main/java/org/wikimedia/metrics_platform/context/ClientData.java",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 2974
      },
      "writtenOn": "2023-06-27T08:00:42Z",
      "side": 1,
      "message": "This is a bit misleading. While most fields in this class are internally nullable, the getters implement appropriate defaults so that users of this class never see a null.\n\nSide note: all those data objects are a bit confusing to me in their handling of nulls :/  We might want to have a discussion on the subject at some point.",
      "range": {
        "startLine": 20,
        "startChar": 3,
        "endLine": 20,
        "endChar": 26
      },
      "revId": "2354c61b1080803ce832b445e59242fadac4251b",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "44691a41_7e170d1b",
        "filename": "java/src/main/java/org/wikimedia/metrics_platform/context/ClientData.java",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 2974
      },
      "writtenOn": "2023-06-27T08:00:42Z",
      "side": 1,
      "message": "This method could be useful in other classes. It should be moved to a utility class (named \"Objects\", to follow the Guava / JRE convention?) and reused in Event, EventProcessed and other similar places.",
      "range": {
        "startLine": 35,
        "startChar": 4,
        "endLine": 38,
        "endChar": 5
      },
      "revId": "2354c61b1080803ce832b445e59242fadac4251b",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65e27c69_08489e51",
        "filename": "java/src/main/java/org/wikimedia/metrics_platform/event/Event.java",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 2974
      },
      "writtenOn": "2023-06-27T08:00:42Z",
      "side": 1,
      "message": "Reuse `firstNonNull`?",
      "range": {
        "startLine": 39,
        "startChar": 8,
        "endLine": 39,
        "endChar": 72
      },
      "revId": "2354c61b1080803ce832b445e59242fadac4251b",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "07f0d0fe_f70e649f",
        "filename": "java/src/test/java/org/wikimedia/metrics_platform/ConsistencyIT.java",
        "patchSetId": 2
      },
      "lineNbr": 86,
      "author": {
        "id": 2974
      },
      "writtenOn": "2023-06-27T08:00:42Z",
      "side": 1,
      "message": "In a test, no need to catch potential exceptions, you can just add them to the test signature",
      "range": {
        "startLine": 84,
        "startChar": 8,
        "endLine": 86,
        "endChar": 9
      },
      "revId": "2354c61b1080803ce832b445e59242fadac4251b",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3813b23_a9158674",
        "filename": "java/src/test/java/org/wikimedia/metrics_platform/ConsistencyITClientData.java",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 2974
      },
      "writtenOn": "2023-06-27T08:00:42Z",
      "side": 1,
      "message": "emptySet is immutable, which is conflicting with the .add() on L51 and L54",
      "range": {
        "startLine": 47,
        "startChar": 33,
        "endLine": 47,
        "endChar": 55
      },
      "revId": "2354c61b1080803ce832b445e59242fadac4251b",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab591e73_cacbde88",
        "filename": "java/src/test/java/org/wikimedia/metrics_platform/MetricsClientTest.java",
        "patchSetId": 2
      },
      "lineNbr": 129,
      "author": {
        "id": 2974
      },
      "writtenOn": "2023-06-27T08:00:42Z",
      "side": 1,
      "message": "nit: all those asserts are not super readable. We might want to clean this up a bit at some point (but probably not now).",
      "range": {
        "startLine": 129,
        "startChar": 8,
        "endLine": 129,
        "endChar": 29
      },
      "revId": "2354c61b1080803ce832b445e59242fadac4251b",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6bda50d1_ad4194a5",
        "filename": "java/src/test/java/org/wikimedia/metrics_platform/context/ClientDataFixtures.java",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 2974
      },
      "writtenOn": "2023-06-27T08:00:42Z",
      "side": 1,
      "message": "There is some naming confusion here. I would expect \"ClientDataFixture\" to only contain code to create ClientData fixtures, and rely on other *Fixtures classes to create the related PageData, MediawikiData, etc...\n\nSo either we need to keep to 1 fixture class for 1 data class, or we need to rename this class to \"DataFixtures\" (or similar).",
      "range": {
        "startLine": 19,
        "startChar": 19,
        "endLine": 19,
        "endChar": 37
      },
      "revId": "2354c61b1080803ce832b445e59242fadac4251b",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4d306508_7f967d08",
        "filename": "java/src/test/java/org/wikimedia/metrics_platform/event/EventFixtures.java",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 2974
      },
      "writtenOn": "2023-06-27T08:00:42Z",
      "side": 1,
      "message": "Should this be using one of the ClientDataFixtures?",
      "range": {
        "startLine": 29,
        "startChar": 9,
        "endLine": 29,
        "endChar": 49
      },
      "revId": "2354c61b1080803ce832b445e59242fadac4251b",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951"
    }
  ]
}